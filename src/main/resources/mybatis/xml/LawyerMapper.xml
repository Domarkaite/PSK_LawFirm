<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lawFirm.mybatis.dao.LawyerMapper">
    <resultMap id="BaseResultMap" type="lawFirm.mybatis.model.Lawyer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        <id column="ID" jdbcType="BIGINT" property="id"/>
        <result column="NAME" jdbcType="VARCHAR" property="name"/>
        <result column="SPECIALIZATION" jdbcType="VARCHAR" property="specialization"/>
    </resultMap>
    <resultMap id="LawyerWithCasesResultMap" type="lawFirm.mybatis.model.Lawyer">
        <id column="ID" property="id" jdbcType="BIGINT"/>
        <result column="NAME" property="name" jdbcType="VARCHAR"/>
        <result column="SPECIALIZATION" property="specialization" jdbcType="VARCHAR"/>
        <collection property="cases" ofType="lawFirm.mybatis.model.LawCase">
            <id column="CASE_ID" property="id" jdbcType="BIGINT"/>
            <result column="TITLE" property="title" jdbcType="VARCHAR"/>
            <result column="DESCRIPTION" property="description" jdbcType="VARCHAR"/>
            <result column="LAWYER_ID" property="lawyerId" jdbcType="BIGINT"/>
        </collection>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        delete from PUBLIC.LAWYER
        where ID = #{id,jdbcType=BIGINT}
    </delete>
    <insert id="insert" keyColumn="ID" keyProperty="id" parameterType="lawFirm.mybatis.model.Lawyer"
            useGeneratedKeys="true">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        insert into PUBLIC.LAWYER (NAME, SPECIALIZATION)
        values (#{name,jdbcType=VARCHAR}, #{specialization,jdbcType=VARCHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="lawFirm.mybatis.model.Lawyer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        update PUBLIC.LAWYER
        set NAME = #{name,jdbcType=VARCHAR},
        SPECIALIZATION = #{specialization,jdbcType=VARCHAR}
        where ID = #{id,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        select ID, NAME, SPECIALIZATION
        from PUBLIC.LAWYER
        where ID = #{id,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 12 23:15:16 EEST 2025.
        -->
        select ID, NAME, SPECIALIZATION
        from PUBLIC.LAWYER
    </select>
    <select id="selectLawyerWithCasesById" resultMap="LawyerWithCasesResultMap" parameterType="java.lang.Long">
        select l.ID,
               l.NAME,
               l.SPECIALIZATION,
               c.ID as CASE_ID,
               c.TITLE,
               c.DESCRIPTION,
               c.LAWYER_ID
        from PUBLIC.LAWYER l
                 left join PUBLIC.LAW_CASE c on l.ID = c.LAWYER_ID
        where l.ID = #{id,jdbcType=BIGINT}
    </select>
    <select id="selectLawyersWithCases" resultMap="LawyerWithCasesResultMap" parameterType="java.lang.Long">
        select l.ID,
               l.NAME,
               l.SPECIALIZATION,
               c.ID as CASE_ID,
               c.TITLE,
               c.DESCRIPTION,
               c.LAWYER_ID
        from PUBLIC.LAWYER l
                 left join PUBLIC.LAW_CASE c on l.ID = c.LAWYER_ID
    </select>
</mapper>